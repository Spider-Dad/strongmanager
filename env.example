# ===== ОСНОВНЫЕ НАСТРОЙКИ =====

# Токен бота Telegram (получить у @BotFather)
BOT_TOKEN=your_telegram_bot_token_here

# Окружение: dev или prod
SERVER_ENV=dev

# ===== УСТАРЕВШИЕ ПАРАМЕТРЫ (GAS) - НЕ ИСПОЛЬЗУЮТСЯ =====
# URL API для Google Apps Script (УДАЛЕНО - не используется после миграции на PostgreSQL)
# API_URL=your_api_gas_here

# Интервал проверки уведомлений через GAS API (УДАЛЕНО - заменено на NOTIFICATION_SEND_INTERVAL)
# POLLING_INTERVAL=60

# Webhook settings (для prod)
WEBHOOK_HOST=your_domain
WEBHOOK_PATH=/webhook

# Admin user IDs (comma separated)
ADMIN_IDS=your_telegram_id

# ===== УСТАРЕВШИЕ ПАРАМЕТРЫ (Google Sheets синхронизация) - НЕ ИСПОЛЬЗУЮТСЯ =====
# Интервал автоматической синхронизации БД (УДАЛЕНО - синхронизация больше не используется)
# SYNC_INTERVAL_MINUTES=60

# Путь к файлу сервисного аккаунта Google (УДАЛЕНО - Google Sheets больше не используются)
# GOOGLE_CREDENTIALS_PATH=google_credentials.json

# ID Google таблицы для синхронизации (УДАЛЕНО - Google Sheets больше не используются)
# GOOGLE_SPREADSHEET_ID=your_spreadsheet_id_here

# ===== НАСТРОЙКИ ТАЙМАУТОВ И RETRY =====

# HTTP таймауты (в секундах)
HTTP_TIMEOUT=30
HTTP_CONNECT_TIMEOUT=10

# Настройки retry для API запросов
MAX_RETRIES=3
RETRY_BASE_DELAY=1.0
RETRY_MAX_DELAY=60.0

# ===== УСТАРЕВШИЕ - Настройки retry для синхронизации Google Sheets =====
# SYNC_MAX_RETRIES=3
# SYNC_RETRY_BASE_DELAY=2.0
# SYNC_RETRY_MAX_DELAY=120.0

# Настройки retry для отправки уведомлений
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_BASE_DELAY=2.0
NOTIFICATION_RETRY_MAX_DELAY=60.0

# ===== УСТАРЕВШИЕ - НАСТРОЙКИ СИНХРОНИЗАЦИИ GOOGLE SHEETS =====
# Синхронизация с Google Sheets УДАЛЕНА после миграции на PostgreSQL
# SYNC_SHEETS=
# RATE_LIMIT_BACKOFF_SECONDS=90

# ===== НАСТРОЙКИ ЛОГИРОВАНИЯ =====

# Уровни логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO          # Уровень для обычных логов
ERROR_LOG_LEVEL=WARNING # Уровень для файла ошибок

# Периоды хранения логов (в днях)
LOG_RETENTION_DAYS=7    # Файлы логов (dev: 7, prod: 30)
DB_LOG_RETENTION_DAYS=30 # Записи в БД (dev: 30, prod: 90)

# Интервал очистки старых логов (в часах)
LOG_CLEANUP_INTERVAL_HOURS=24

# ===== флаги функциональности =====
GRADEBOOK_ENABLED=true  # true - включен, false - выключен
REMINDER_ENABLED=true   # true - включены ежедневные напоминания, false - выключены

# ===== НАСТРОЙКИ ОБРАБОТКИ ВЕБХУКОВ И УВЕДОМЛЕНИЙ =====

# Интервал обработки вебхуков (в секундах)
WEBHOOK_PROCESSING_INTERVAL=30

# Интервал проверки дедлайнов (в минутах)
DEADLINE_CHECK_INTERVAL_MINUTES=60

# Интервал отправки уведомлений (в секундах)
NOTIFICATION_SEND_INTERVAL=15

# Время до дедлайна для отправки уведомлений (в часах)
DEADLINE_WARNING_HOURS=36

# Час запуска напоминаний о непроверенных ответах (по московскому времени)
REMINDER_TRIGGER_HOUR=12

# Количество дней назад для анализа непроверенных ответов
REMINDER_ANALYSIS_DAYS_BACK=2

# Размер батча для обработки вебхуков
WEBHOOK_BATCH_SIZE=50

# Размер батча для отправки уведомлений
NOTIFICATION_BATCH_SIZE=20

# ===== КОНФИГУРАЦИЯ БАЗЫ ДАННЫХ =====

# Тип БД: только postgresql (SQLite больше не поддерживается)
DB_TYPE=postgresql  # Не обязательно - всегда PostgreSQL

# ===== POSTGRESQL НАСТРОЙКИ =====
# Внешний хост (для доступа из интернета, используется в dev-окружении)
POSTGRES_HOST_EXTERNAL=getcoursebd-spiderdad.db-msk0.amvera.tech

# Внутренний хост (для доступа внутри Amvera, используется в prod-окружении)
POSTGRES_HOST_INTERNAL=amvera-spiderdad-cnpg-getcoursebd-rw

# Порт PostgreSQL
POSTGRES_PORT=5432

# Имя пользователя БД
POSTGRES_USER=postresql # внимание, не postgresql, а postresql (была допущена опечатка при развертывании БД)

# Пароль БД (НЕ КОММИТИТЬ В GIT!)
POSTGRES_PASSWORD=your_password_here

# Имя базы данных
POSTGRES_DB=GetCourseBD

# Схема БД (по умолчанию: public)
POSTGRES_SCHEMA=public